<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Freetime</title>

  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>
<div class="container">
<div class="row">
<div class="col-lg-12">
<div class="page-header">
  <h1 class="text-center">Are you busy this week?</h1>
</div>
<h3 class="text-center">Share your schedule quickly with those who need it!</h3>
<h4 class="text-center">(Click the cells in the table to mark as busy)</h4>
<div class="bs-example table-responsive">
<div id="alerts">

</div>
<form method="post" action="/new" id="form">
<table class="text-center table table-striped table-hover ">
<thead>
<tr>
  <th class="text-center">Time</th>
  <th class="text-center">Monday</th>
  <th class="text-center">Tuesday</th>
  <th class="text-center">Wednesday</th>
  <th class="text-center">Thursday</th>
  <th class="text-center">Friday</th>
  <th class="text-center">Saturday</th>
  <th class="text-center">Sunday</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0800 hrs</td>
  <td class="success input"><input name="mon-0800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-0800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-0800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-0800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-0800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-0800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-0800" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>0900 hrs</td>
  <td class="success input"><input name="mon-0900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-0900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-0900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-0900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-0900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-0900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-0900" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1000 hrs</td>
  <td class="success input"><input name="mon-1000" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1000" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1000" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1000" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1000" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1000" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1000" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1100 hrs</td>
  <td class="success input"><input name="mon-1100" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1100" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1100" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1100" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1100" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1100" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1100" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1200 hrs</td>
  <td class="success input"><input name="mon-1200" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1200" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1200" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1200" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1200" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1200" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1200" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1300 hrs</td>
  <td class="success input"><input name="mon-1300" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1300" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1300" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1300" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1300" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1300" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1300" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1400 hrs</td>
  <td class="success input"><input name="mon-1400" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1400" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1400" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1400" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1400" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1400" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1400" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1500 hrs</td>
  <td class="success input"><input name="mon-1500" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1500" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1500" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1500" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1500" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1500" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1500" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1600 hrs</td>
  <td class="success input"><input name="mon-1600" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1600" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1600" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1600" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1600" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1600" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1600" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1700 hrs</td>
  <td class="success input"><input name="mon-1700" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1700" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1700" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1700" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1700" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1700" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1700" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1800 hrs</td>
  <td class="success input"><input name="mon-1800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1800" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1800" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
<tr>
  <td>1900 hrs</td>
  <td class="success input"><input name="mon-1900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="tue-1900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="wed-1900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="thu-1900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="fri-1900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sat-1900" value="0" hidden><span>I'm Free</span>
  </td>
  <td class="success input"><input name="sun-1900" value="0" hidden><span>I'm Free</span>
  </td>
</tr>
</tbody>
</table>
<button type="submit" class="btn btn-info btn-block">Share My Schedule!</button>
</form>
<h4>A prototype by <a href="https://twitter.com/tallanstacey">@tallanstacey</a></h4>
</div>
</div>
</div>
</div>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script>
  $('td.input').click(function () {
    if ($(this).hasClass('success')) {
      $($(this).children('input:first')).val('1');
      $(this).removeClass('success');
      $($(this).children('span:first')).text("I'm Busy");
      $(this).addClass('danger');
    } else if ($(this).hasClass('danger')) {
      $($(this).children('input:first')).val('0');
      $(this).removeClass('danger');
      $($(this).children('span:first')).text("I'm Free");
      $(this).addClass('success');
    }

  });
  $('#form').submit(function (e) {
    e.preventDefault();
    $.post(this.action, $(this).serialize(), function (data) {
      $('#alerts').append(
        '<div class="alert alert-dismissable alert-success">' +
          '<button type="button" class="close" data-dismiss="alert">×</button>' +
          'Your schedule is available at ' + '<strong><a href="http://freetime.heroku.com/' + data.link +
          '">' + 'http://freetime.heroku.com/' + data.link + '</a></strong>' +
          '</div>');

    }, 'json');
  });
</script>
</body>
</html>